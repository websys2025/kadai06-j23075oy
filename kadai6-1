import requests

APP_ID = 2501cb7d37ed5039f3e14168b9ca30d450a78ef5

API_URL = "https://api.e-stat.go.jp/rest/3.0/app/json/getStatsData"

params = {
    "appId": APP_ID,
    "statsDataId": "0003222340",  # å®¶è¨ˆèª¿æŸ»
    "cdArea": "13101",            # æ±äº¬éƒ½åŒºéƒ¨
    "cdCat01": "030100000",       # å®¶è¨ˆæ”¯å‡ºç·é¡ï¼ˆä¾‹ï¼‰
    "metaGetFlg": "Y",
    "cntGetFlg": "N",
    "explanationGetFlg": "Y",
    "annotationGetFlg": "Y",
    "sectionHeaderFlg": "1",
    "replaceSpChars": "0",
    "lang": "J"
}

# ğŸ“¡ APIã¸ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡
response = requests.get(API_URL, params=params)

# ğŸ§¾ JSONãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦å–å¾—
data = response.json()

# ğŸ“¤ ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›ï¼ˆç°¡æ˜“è¡¨ç¤ºï¼‰
print("==== å®¶è¨ˆèª¿æŸ»ã®æ”¯å‡ºãƒ‡ãƒ¼ã‚¿ï¼ˆæ±äº¬éƒ½åŒºéƒ¨ï¼‰ ====")

# è¦³æ¸¬å€¤ã‚’è¡¨ç¤º
for d in data['GET_STATS_DATA']['STATISTICAL_DATA']['DATA_INF']['VALUE']:
    time = d['@time']        # æ™‚ç‚¹
    value = d['$']           # å®Ÿéš›ã®å€¤
    print(f"{time} : {value}")

#response = requests.get(API_URL, params=params)
response = requests.get(API_URL, params=params)
# Process the response
data = response.json()
print(data)
